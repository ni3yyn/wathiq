html {
  height: 100%;
  background-color: radial-gradient(circle at center, #3e5e56 0%, #29403b 100%);
  font-family: 'Tajawal', sans-serif;
}

/* 2. BODY: Scrollable Content Wrapper */
body {
  margin: 0;
  padding: 0;
  width: 100%;
  min-height: 100vh;
  background-image: url('lolo.webp'); 
  background-repeat: no-repeat; 
  background-size: cover; 
  background-position: center center;
  background-attachment: fixed; 
  background-color: radial-gradient(circle at center, #3e5e56 0%, #29403b 100%);

  -webkit-font-smoothing: antialiased;
  
  /* RESTORE STANDARD SCROLLING */
  overflow-y: auto; 
  overflow-x: hidden;
  /* Text Rendering */
  font-family: 'Tajawal', sans-serif;
  -webkit-font-smoothing: antialiased;
  
  /* Interaction Tweaks */
  overscroll-behavior-y: none;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* 3. THE FIX: Dedicated Background Layer */
/* This puts the image on a fixed layer BEHIND the body. */
body::before {
  content: "";
  position: fixed; /* Locks it to the viewport */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* Always fills screen */
  

  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover; /* Scales nicely */
  
  z-index: -1; /* Puts it behind your app content */
  background-color: radial-gradient(circle at center, #3e5e56 0%, #29403b 100%);
}

/* 4. ROOT: Transparent wrapper */
#root {
  width: 100%;
  min-height: 100vh;
  position: relative; /* Stacks on top of ::before */
}

h2 {
  font-size: 24px;
  color: #b3b7b9;
  margin-bottom: 16px;
  font-weight: 700;
  align-content: center;
  text-align: center;
}


html, body {
  /* Prevent "Rubber Band" bouncing effect on scroll */
  overscroll-behavior-y: none;
  /* Disable text selection (Native apps don't let you select UI text) */
  -webkit-user-select: none;
  user-select: none;
  /* Use system font stack for speed */
  font-family: 'Tajawal', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  /* Match background to theme to prevent white flashes */
}

/* Allow text selection ONLY in input fields */
input, textarea {
  -webkit-user-select: text;
  user-select: text;
  /* Prevent auto-zoom on focus (needs font-size >= 16px) */
  font-size: 16px !important; 
}

/* Remove the blue highlight when tapping buttons on Android/iOS */
* {
  -webkit-tap-highlight-color: transparent;
  outline: none;
}

/* Hide Scrollbars completely (but keep scrolling functionality) */
::-webkit-scrollbar {
  width: 0px;
  background: transparent;
  display: none;
}

.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform, opacity;
  backface-visibility: hidden;
  perspective: 1000px;
}

/* ========================================= */
/*   PERFORMANCE BOOST & GPU ACCELERATION    */
/* ========================================= */

/* 1. Force GPU Layer Creation for ALL Modals */
/* This moves these elements to a separate composite layer */
.glass-modal-content,
.sheet-modal,
.auth-modal-content,
.w-admin-modal,
.goodbye-content,
.loading-content,
.modal-content {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0); /* Forces Hardware Acceleration */
    will-change: transform, opacity; /* Tells browser to prep for animation */
    backface-visibility: hidden;     /* Prevents flickering */
    perspective: 1000px;
}

/* 2. Optimize Lists & Warnings */
/* Prevents lag when lists (like products or warnings) animate in */
.comp-warnings-list,
.alert-item,
.w-admin-product-item,
.ingredient-card {
    will-change: transform, opacity;
    transform: translateZ(0);
}

/* ========================================= */
/*   MOBILE SPECIFIC OPTIMIZATIONS           */
/*   (Critical for Android WebViews)         */
/* ========================================= */

@media (max-width: 768px) {
    
    /* Backdrop-filter is extremely heavy on mobile GPUs. 
       We replace it with a solid, slightly transparent background. */
    .glass-modal-backdrop,
    .w-admin-modal-backdrop,
    .auth-modal-backdrop,
    
    .comp-v3-glass-card,
    .glass-modal-content {
        backdrop-filter: blur(2px) !important;
        -webkit-backdrop-filter: none !important;
        background-color: rgba(15, 42, 38, 0.5);

    }

    /* Special case for light-theme admin modal */
    .w-admin-modal {
        backdrop-filter: none !important;
        background: #ffffff !important; /* Solid White */
    }

    /* B. REDUCE SHADOWS */
    /* Large spread radius shadows cause lag on scroll */
    .product-card-elegant,
    .w-admin-stat-card,
    .glass-modal-content {
        box-shadow: 0 4px 10px rgba(0,0,0,0.0) !important; /* Simpler shadow */
    }

    /* C. OPTIMIZE IMAGES & ICONS */
    /* Prevent layout thrashing */
    img {
        content-visibility: auto; /* Browser skips rendering off-screen images */
    }
}